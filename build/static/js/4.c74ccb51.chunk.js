(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[4],{45:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,"a",(function(){return o}))},46:function(e,t,r){e.exports={card:"Card_card__lCHcB"}},47:function(e,t,r){e.exports={form:"QuoteForm_form__245it",loading:"QuoteForm_loading__pygtM",control:"QuoteForm_control__2C8hP",actions:"QuoteForm_actions__2gD9V"}},51:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(3),a=r(45),c=r(46),s=r.n(c),u=r(1),i=function(e){return Object(u.jsx)("div",{className:s.a.card,children:e.children})},l=r(21),d=r(47),f=r.n(d),b=r(9),p=r(22),j=function(e){var t=Object(n.useState)(!1),r=Object(a.a)(t,2),c=r[0],s=r[1],d=Object(n.useRef)(),j=Object(n.useRef)(),h=Object(b.b)();return Object(u.jsxs)(n.Fragment,{children:[Object(u.jsx)(o.a,{when:c,message:function(){return"Are you sure to leave this page?All your entered data will be lost"}}),Object(u.jsx)(i,{children:Object(u.jsxs)("form",{onFocus:function(){s(!0),console.log("form")},className:f.a.form,onSubmit:function(t){t.preventDefault();var r=d.current.value,n=j.current.value,o={author:r,text:n};h(p.b.addItemHendler(o)),e.onAddQuote({author:r,text:n})},children:[e.isLoading&&Object(u.jsx)("div",{className:f.a.loading,children:Object(u.jsx)(l.a,{})}),Object(u.jsxs)("div",{className:f.a.control,children:[Object(u.jsx)("label",{htmlFor:"author",children:"Author"}),Object(u.jsx)("input",{type:"text",id:"author",ref:d})]}),Object(u.jsxs)("div",{className:f.a.control,children:[Object(u.jsx)("label",{htmlFor:"text",children:"Text"}),Object(u.jsx)("textarea",{id:"text",rows:"5",ref:j})]}),Object(u.jsx)("div",{className:f.a.actions,children:Object(u.jsx)("button",{onClick:function(){s(!1)},className:"btn",children:"Add Quote"})})]})})]})};function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=r(16),v=r.n(y),g=r(20);function x(e,t){return"SEND"===t.type?{data:null,error:null,status:"pending"}:"SUCCESS"===t.type?{data:t.responseData,error:null,status:"completed"}:"ERROR"===t.type?{data:null,error:t.errorMessage,status:"completed"}:e}var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Object(n.useReducer)(x,{status:t?"pending":null,data:null,error:null}),o=Object(a.a)(r,2),c=o[0],s=o[1],u=Object(n.useCallback)(function(){var t=Object(g.a)(v.a.mark((function t(r){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:"SEND"}),t.prev=1,t.next=4,e(r);case 4:n=t.sent,s({type:"SUCCESS",responseData:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),s({type:"ERROR",errorMessage:t.t0.message||"Something went wrong!"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return m({sendRequest:u},c)},S="https://shabnam-71010-default-rtdb.firebaseio.com";function _(e){return A.apply(this,arguments)}function A(){return(A=Object(g.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/quotes.json"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(n=e.sent,r.ok){e.next=8;break}throw new Error(n.message||"Could not create quote.");case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(){var e=w(_),t=e.sendRequest,r=e.status,a=Object(o.h)();Object(n.useEffect)((function(){"completed"===r&&a.push("/quotes")}),[r,a]);return Object(u.jsx)("div",{children:Object(u.jsx)(j,{isLoading:"pending"===r,onAddQuote:function(e){t(e)}})})}}}]);
//# sourceMappingURL=4.c74ccb51.chunk.js.map